{"version":3,"file":"Hoverable.js","sourceRoot":"","sources":["../src/Hoverable.ts"],"names":[],"mappings":"AAAA,eAAe;AACf,qFAAqF;AACrF,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,YAAY,CAAC;AACtD,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAE/B,OAAO,cAAc,MAAM,kBAAkB,CAAC;AAE9C,MAAM,CAAC,OAAO,OAAO,SAAU,SAAQ,KAAK,CAAC,SAAiK;IAA9M;;QAQE,UAAK,GAAG,EAAE,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;QAE9C,sBAAiB,GAAG,CAAC,CAAC,EAAE;YACtB,IAAI,cAAc,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE;gBAC7C,MAAM,EAAE,SAAS,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;gBACjC,IAAI,SAAS;oBAAE,SAAS,EAAE,CAAC;gBAC3B,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;aACzD;QACH,CAAC,CAAC;QAEF,sBAAiB,GAAG,CAAC,CAAC,EAAE;YACtB,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE;gBACxB,MAAM,EAAE,UAAU,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;gBAClC,IAAI,UAAU;oBAAE,UAAU,EAAE,CAAC;gBAC7B,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;aAC1D;QACH,CAAC,CAAC;QAEF,iBAAY,GAAG,GAAG,EAAE;YAClB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAC3D,CAAC,CAAC;QAEF,mBAAc,GAAG,GAAG,EAAE;YACpB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC;IAoBJ,CAAC;IAlBC,MAAM;QACJ,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;QAChC,MAAM,KAAK,GACT,OAAO,QAAQ,KAAK,UAAU;YAC5B,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;YACxD,CAAC,CAAC,QAAQ,CAAC;QAEf,OAAO,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;YACpD,YAAY,EAAE,IAAI,CAAC,iBAAiB;YACpC,YAAY,EAAE,IAAI,CAAC,iBAAiB;YACpC,wCAAwC;YACxC,gBAAgB,EAAE,IAAI,CAAC,YAAY;YACnC,kBAAkB,EAAE,IAAI,CAAC,cAAc;YACvC,wBAAwB;YACxB,SAAS,EAAE,IAAI,CAAC,YAAY;YAC5B,UAAU,EAAE,IAAI,CAAC,cAAc;SAChC,CAAC,CAAC;IACL,CAAC;;AAlDM,qBAAW,GAAG,WAAW,CAAC;AAC1B,mBAAS,GAAG;IACjB,QAAQ,EAAE,SAAS,CAAC,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IACpC,SAAS,EAAE,IAAI;IACf,UAAU,EAAE,IAAI;CACjB,CAAC","sourcesContent":["// By @necolas:\n// https://github.com/necolas/react-native-web/blob/master/docs/guides/web-recipes.md\nimport { element, func, oneOfType } from 'prop-types';\nimport * as React from 'react';\n\nimport isHoverEnabled from './isHoverEnabled';\n\nexport default class Hoverable extends React.Component<{ children: (isHovered: boolean) => any | React.ReactChild; onHoverIn?: Function; onHoverOut?: Function }, { isHovered: boolean; showHover: boolean; }> {\n  static displayName = 'Hoverable';\n  static propTypes = {\n    children: oneOfType([func, element]),\n    onHoverIn: func,\n    onHoverOut: func,\n  };\n\n  state = { isHovered: false, showHover: true };\n\n  _handleMouseEnter = e => {\n    if (isHoverEnabled() && !this.state.isHovered) {\n      const { onHoverIn } = this.props;\n      if (onHoverIn) onHoverIn();\n      this.setState(state => ({ ...state, isHovered: true }));\n    }\n  };\n\n  _handleMouseLeave = e => {\n    if (this.state.isHovered) {\n      const { onHoverOut } = this.props;\n      if (onHoverOut) onHoverOut();\n      this.setState(state => ({ ...state, isHovered: false }));\n    }\n  };\n\n  _handleGrant = () => {\n    this.setState(state => ({ ...state, showHover: false }));\n  };\n\n  _handleRelease = () => {\n    this.setState(state => ({ ...state, showHover: true }));\n  };\n\n  render() {\n    const { children } = this.props;\n    const child =\n      typeof children === 'function'\n        ? children(this.state.showHover && this.state.isHovered)\n        : children;\n\n    return React.cloneElement(React.Children.only(child), {\n      onMouseEnter: this._handleMouseEnter,\n      onMouseLeave: this._handleMouseLeave,\n      // prevent hover showing while responder\n      onResponderGrant: this._handleGrant,\n      onResponderRelease: this._handleRelease,\n      // if child is Touchable\n      onPressIn: this._handleGrant,\n      onPressOut: this._handleRelease,\n    });\n  }\n}\n"]}