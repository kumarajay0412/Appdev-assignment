{"version":3,"file":"loadTexture.js","sourceRoot":"","sources":["../src/loadTexture.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,gBAAgB,EAAE,MAAM,4BAA4B,CAAC;AAC9D,OAAO,KAAK,MAAM,SAAS,CAAC;AAC5B,OAAO,kBAAkB,MAAM,8BAA8B,CAAC;AAE9D,MAAM,UAAU,WAAW,CAAC,GAAG,EAAE,MAAM,EAAE,UAAU,EAAE,OAAO;IAC1D,MAAM,OAAO,GAAG,IAAI,KAAK,CAAC,OAAO,EAAE,CAAC;IACpC;IACE,aAAa;IACb,OAAO,IAAI,CAAC,IAAI,KAAK,UAAU;QAC/B,aAAa;QACb,CAAC,IAAI,CAAC,IAAI,KAAK,IAAI,IAAI,OAAO,IAAI,CAAC,IAAI,KAAK,QAAQ,CAAC,EACrD;QACA,CAAC,KAAK,IAAI,EAAE;YACV,GAAG,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;YAC3B,aAAa;YACb,MAAM,KAAK,GAAG,MAAM,kBAAkB,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YACvD,MAAM,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,MAAM,gBAAgB,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;YAC/D,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC;YACtB,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC;YAC3B,OAAO,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,CAAC,kDAAkD;YACnF,OAAO,CAAC,SAAS,GAAG,SAAS,CAAC,CAAC,gCAAgC;YAE/D,IAAI,MAAM,KAAK,SAAS,EAAE;gBACxB,OAAO,CAAC,IAAI,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;gBACpC,MAAM,CAAC,OAAO,CAAC,CAAC;aACjB;QACH,CAAC,CAAC,EAAE,CAAC;KACN;IAED,OAAO,OAAO,CAAC;AACjB,CAAC","sourcesContent":["import { loadTextureAsync } from './loaders/loadTextureAsync';\nimport THREE from './Three';\nimport parseAssetCallback from './loaders/parseAssetCallback';\n\nexport function loadTexture(url, onLoad, onProgress, onError) {\n  const texture = new THREE.Texture();\n  if (\n    // @ts-ignore\n    typeof this.path === 'function' ||\n    // @ts-ignore\n    (this.path !== null && typeof this.path === 'object')\n  ) {\n    (async () => {\n      url = url.split('/').pop();\n      // @ts-ignore\n      const asset = await parseAssetCallback(url, this.path);\n      const { minFilter, image } = await loadTextureAsync({ asset });\n      texture.image = image;\n      texture.needsUpdate = true;\n      texture['isDataTexture'] = true; // Forces passing to `gl.texImage2D(...)` verbatim\n      texture.minFilter = minFilter; // Pass-through non-power-of-two\n\n      if (onLoad !== undefined) {\n        console.warn('loaded tex', texture);\n        onLoad(texture);\n      }\n    })();\n  }\n\n  return texture;\n}\n"]}